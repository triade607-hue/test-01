<div class="bg-white rounded border border-gray-200 sticky top-4">
  <!-- Header -->
  <div class="p-4 border-b border-gray-200">
    <h2 class="text-lg font-semibold text-gray-900">
      Récapitulatif ({{ summary.itemCount < 10 ? '0' + summary.itemCount : summary.itemCount }})
    </h2>
  </div>

  <!-- Détails -->
  <div class="p-4 space-y-3">
    <!-- Sous-total -->
    <div class="flex items-center justify-between text-sm">
      <span class="text-gray-700">Sous Total:</span>
      <span class="font-semibold text-gray-900">
        {{ summary.subtotal.toFixed(2) }}{{ summary.currency }}
      </span>
    </div>

    <!-- Frais Occaverse -->
    <div class="flex items-center justify-between text-sm">
      <span class="text-gray-700">Frais d'Occaverse:</span>
      <span class="font-semibold text-gray-900">
        {{ summary.occaverseFees.toFixed(3) }}{{ summary.currency }}
      </span>
    </div>

    <!-- Contrôle de conformité -->
    <div class="flex items-center justify-between text-sm">
      <span class="text-gray-700">Contrôle de conformité:</span>
      <span class="font-semibold text-gray-900">
        {{ summary.conformityCheckFees.toFixed(4) }}{{ summary.currency }}
      </span>
    </div>

    <!-- Livraison -->
    <div class="flex items-center justify-between text-sm">
      <span class="text-gray-700">Livraison:</span>
      <span class="font-semibold text-gray-900">
        {{ summary.shippingFees === 0 ? '0' : summary.shippingFees.toFixed(2) }}{{ summary.currency }}
      </span>
    </div>

    <!-- Divider -->
    <div class="border-t border-gray-200 my-3"></div>

    <!-- Total -->
    <div class="flex items-center justify-between">
      <span class="text-base font-semibold text-gray-900">Total:</span>
      <span class="text-xl font-bold text-primary-500">
        {{ summary.total.toFixed(2) }}{{ summary.currency }}
      </span>
    </div>
  </div>

  <!-- Bouton validation -->
  <div class="p-4 border-t border-gray-200">
    <button
      (click)="onCheckout()"
      class="w-full px-6 py-3 bg-primary-500 text-white font-semibold rounded hover:bg-primary-600 transition-colors focus:outline-none focus:ring-2 focus:ring-primary-500 focus:ring-offset-2"
    >
      Valider mon panier ({{ summary.itemCount < 10 ? '0' + summary.itemCount : summary.itemCount }})
    </button>
  </div>
</div>