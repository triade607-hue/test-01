<div class="space-y-4 sm:space-y-6">
  <!-- Breadcrumb -->
  <nav class="flex items-center gap-1 sm:gap-2 text-xs sm:text-sm overflow-x-auto">
    <a routerLink="/buyer/purchases" class="text-gray-600 hover:text-primary-500 whitespace-nowrap">Mes achats</a>
    <svg class="w-3 h-3 sm:w-4 sm:h-4 text-gray-400 flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"/>
    </svg>
    <span class="text-primary-500 font-medium whitespace-nowrap">Commande n°{{ order.orderNumber }}</span>
  </nav>

  <!-- Détails commande -->
  <div class="space-y-3 sm:space-y-4">
    <h2 class="text-base sm:text-lg font-bold text-gray-900">Détails commande</h2>

    <div class="bg-white rounded-md border border-gray-200 overflow-hidden">
      <!-- Products -->
      <div class="divide-y divide-gray-100">
        <div
          *ngFor="let product of order.products"
          class="p-3 sm:p-4 flex flex-col sm:flex-row sm:items-center gap-3 sm:gap-4"
        >
          <img
            [src]="product.image"
            [alt]="product.name"
            class="w-16 h-16 sm:w-20 sm:h-20 rounded-md object-cover flex-shrink-0"
          />
          <div class="flex-1 min-w-0">
            <h3 class="font-medium text-gray-900 text-sm sm:text-base mb-1">{{ product.name }}</h3>
            <p class="text-sm text-primary-500 font-bold mb-1">{{ product.price }}{{ product.currency }}</p>
            <p class="text-xs sm:text-sm text-gray-600">
              Quantité : <span class="font-medium">{{ product.quantity }}</span>
              <br class="sm:hidden"/>
              <span class="hidden sm:inline">&nbsp;&nbsp;</span>
              {{ product.variant1.label }} : <span class="font-medium">{{ product.variant1.value }}</span>
              <br class="sm:hidden"/>
              <span class="hidden sm:inline">&nbsp;&nbsp;</span>
              {{ product.variant2.label }} : <span class="font-medium text-gray-500">{{ product.variant2.value }}</span>
            </p>
          </div>

          <!-- Checkbox conformité -->
          <div *ngIf="product.hasConformityCheck" class="flex items-center gap-2 flex-shrink-0">
            <div class="w-5 h-5 rounded bg-primary-500 flex items-center justify-center">
              <svg class="w-3 h-3 text-white" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="3" d="M5 13l4 4L19 7"/>
              </svg>
            </div>
            <span class="text-xs sm:text-sm text-gray-600">Contrôle de conformité</span>
          </div>
        </div>
      </div>

      <!-- Vendor + Total -->
      <div class="p-3 sm:p-4 bg-gray-50 flex flex-col sm:flex-row sm:items-center justify-between gap-3 border-t border-gray-200">
        <div class="flex items-center gap-2 sm:gap-3">
          <img
            [src]="order.vendor.avatar"
            [alt]="order.vendor.name"
            class="w-6 h-6 sm:w-8 sm:h-8 rounded-full object-cover"
          />
          <span class="text-xs sm:text-sm font-medium text-primary-500">{{'@'}}{{ order.vendor.name }}</span>
          <span class="text-xs sm:text-sm">{{ order.vendor.countryFlag }} ({{ order.vendor.country }})</span>
        </div>
        <div class="text-right">
          <span class="text-xs sm:text-sm text-gray-600">Total:</span>
          <span class="text-base sm:text-lg font-bold text-primary-500 ml-2">{{ order.total }}{{ order.currency }}</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Détails de la livraison -->
  <div class="space-y-3 sm:space-y-4">
    <h2 class="text-base sm:text-lg font-bold text-gray-900">Détails de la livraison</h2>

    <div class="bg-white rounded-md border border-gray-200 p-3 sm:p-4 space-y-3">
      <div class="flex flex-col sm:flex-row sm:items-start justify-between gap-1 sm:gap-4">
        <span class="text-xs sm:text-sm text-gray-600">Adresse de livraison</span>
        <span class="text-xs sm:text-sm font-medium text-primary-500 break-all">{{ order.delivery.address }}</span>
      </div>
      <div class="flex flex-col sm:flex-row sm:items-start justify-between gap-1 sm:gap-4">
        <span class="text-xs sm:text-sm text-gray-600">Moyen de livraison vers Occaverse</span>
        <span class="text-xs sm:text-sm font-medium text-primary-500">{{ order.delivery.toOccaverse }}</span>
      </div>
      <div class="flex flex-col sm:flex-row sm:items-start justify-between gap-1 sm:gap-4">
        <span class="text-xs sm:text-sm text-gray-600">Moyen de livraison vers vous</span>
        <span class="text-xs sm:text-sm font-medium text-primary-500">{{ order.delivery.toCustomer }}</span>
      </div>
    </div>
  </div>

  <!-- Paiement -->
  <div class="space-y-3 sm:space-y-4">
    <h2 class="text-base sm:text-lg font-bold text-gray-900">Paiement</h2>

    <div class="bg-white rounded-md border border-gray-200 p-3 sm:p-4">
      <div class="flex items-center justify-between">
        <span class="text-xs sm:text-sm text-gray-600">Méthode de paiement</span>
        <div class="flex items-center gap-2">
          <!-- PayPal Icon -->
          <svg class="w-4 h-4 sm:w-5 sm:h-5 text-[#003087]" viewBox="0 0 24 24" fill="currentColor">
            <path d="M7.076 21.337H2.47a.641.641 0 0 1-.633-.74L4.944.901C5.026.382 5.474 0 5.998 0h7.46c2.57 0 4.578.543 5.69 1.81 1.01 1.15 1.304 2.42 1.012 4.287-.023.143-.047.288-.077.437-.983 5.05-4.349 6.797-8.647 6.797h-2.19c-.524 0-.968.382-1.05.9l-1.12 7.106zm14.146-14.42a3.35 3.35 0 0 0-.607-.541c-.013.076-.026.175-.041.254-.93 4.778-4.005 7.201-9.138 7.201h-2.19a.563.563 0 0 0-.556.479l-1.187 7.527h-.506l-.24 1.516a.56.56 0 0 0 .554.647h3.882c.46 0 .85-.334.922-.788.06-.26.76-4.852.816-5.09a.932.932 0 0 1 .923-.788h.58c3.76 0 6.705-1.528 7.565-5.946.36-1.847.174-3.388-.777-4.471z"/>
          </svg>
          <span class="text-xs sm:text-sm font-medium text-primary-500">{{ order.payment.method }}</span>
        </div>
      </div>
    </div>
  </div>

  <!-- Bouton Suivi -->
  <div class="pt-2 sm:pt-4">
    <a
      [routerLink]="['/buyer/purchases', orderId, 'tracking']"
      class="inline-flex items-center justify-center gap-2 w-full sm:w-auto px-4 sm:px-6 py-2.5 sm:py-3 bg-primary-500 text-white text-sm font-medium rounded-md hover:bg-primary-600 transition-colors"
    >
      <svg class="w-4 h-4 sm:w-5 sm:h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5H7a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2V7a2 2 0 00-2-2h-2M9 5a2 2 0 002 2h2a2 2 0 002-2M9 5a2 2 0 012-2h2a2 2 0 012 2m-3 7h3m-3 4h3m-6-4h.01M9 16h.01"/>
      </svg>
      Suivi de commande
    </a>
  </div>
</div>